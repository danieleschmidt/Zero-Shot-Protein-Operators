# Zero-Shot Protein-Operators Environment Configuration
# Copy this file to .env and customize for your environment

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Application name and version
APP_NAME=protein-operators
APP_VERSION=1.0.0
APP_ENV=development

# Debug mode (true/false)
DEBUG=true

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# DIRECTORY PATHS
# =============================================================================

# Root directory for the application
PROTEIN_OPERATORS_ROOT=/path/to/Zero-Shot-Protein-Operators

# Data directories
DATA_ROOT=/path/to/data
MODELS_DIR=${DATA_ROOT}/models
EXPERIMENTS_DIR=${DATA_ROOT}/experiments
BENCHMARKS_DIR=${DATA_ROOT}/benchmarks
CACHE_DIR=${DATA_ROOT}/cache

# Output directories
RESULTS_DIR=/path/to/results
LOGS_DIR=/path/to/logs
TEMP_DIR=/tmp/protein-operators

# =============================================================================
# COMPUTATION SETTINGS
# =============================================================================

# CUDA configuration
CUDA_VISIBLE_DEVICES=0
CUDA_DEVICE_ORDER=PCI_BUS_ID
CUDA_CACHE_DISABLE=0

# PyTorch settings
TORCH_HOME=${MODELS_DIR}/torch
OMP_NUM_THREADS=8
MKL_NUM_THREADS=8

# Memory settings (in GB)
MAX_MEMORY_GB=32
SHARED_MEMORY_GB=8

# =============================================================================
# NEURAL OPERATOR SETTINGS
# =============================================================================

# Default model settings
DEFAULT_OPERATOR_TYPE=deeponet
DEFAULT_HIDDEN_DIM=512
DEFAULT_NUM_BASIS=1024
DEFAULT_BATCH_SIZE=32

# Training settings
LEARNING_RATE=1e-4
WEIGHT_DECAY=1e-5
GRADIENT_CLIP_NORM=1.0
MIXED_PRECISION=true

# Model checkpointing
CHECKPOINT_INTERVAL=1000
MAX_CHECKPOINTS=5
AUTO_RESUME=true

# =============================================================================
# DATA PROCESSING SETTINGS
# =============================================================================

# PDB database settings
PDB_MIRROR_URL=https://files.rcsb.org/download
PDB_CACHE_DIR=${DATA_ROOT}/pdb_cache
PDB_DOWNLOAD_TIMEOUT=300

# Preprocessing settings
MAX_SEQUENCE_LENGTH=1000
MIN_SEQUENCE_LENGTH=10
RESOLUTION_CUTOFF=3.0
R_FREE_CUTOFF=0.3

# Data augmentation
ENABLE_DATA_AUGMENTATION=true
ROTATION_AUGMENTATION=true
NOISE_AUGMENTATION=0.1

# =============================================================================
# MOLECULAR DYNAMICS SETTINGS
# =============================================================================

# OpenMM configuration
OPENMM_PLATFORM=CUDA
OPENMM_PRECISION=mixed
OPENMM_PLUGIN_DIR=/usr/local/openmm/lib/plugins

# Force field settings
DEFAULT_FORCE_FIELD=amber14-all.xml
WATER_MODEL=tip3p.xml
IONIC_STRENGTH=0.15

# Simulation parameters
DEFAULT_TEMPERATURE=300  # Kelvin
DEFAULT_PRESSURE=1.0     # bar
SIMULATION_TIMESTEP=2.0  # femtoseconds

# =============================================================================
# API AND WEB INTERFACE SETTINGS
# =============================================================================

# API server settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_TIMEOUT=300

# Authentication (if enabled)
ENABLE_AUTH=false
SECRET_KEY=your-secret-key-here
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# CORS settings
ALLOWED_ORIGINS=*
ALLOWED_METHODS=GET,POST,PUT,DELETE
ALLOWED_HEADERS=*

# =============================================================================
# DATABASE SETTINGS
# =============================================================================

# SQLite database for metadata
DATABASE_URL=sqlite:///${DATA_ROOT}/protein_operators.db
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10

# Redis cache (optional)
REDIS_URL=redis://localhost:6379/0
REDIS_TIMEOUT=300

# =============================================================================
# MONITORING AND LOGGING SETTINGS
# =============================================================================

# MLflow tracking
MLFLOW_TRACKING_URI=file://${EXPERIMENTS_DIR}/mlruns
MLFLOW_EXPERIMENT_NAME=protein-design
MLFLOW_ARTIFACT_ROOT=${EXPERIMENTS_DIR}/artifacts

# Weights & Biases (optional)
WANDB_PROJECT=protein-operators
WANDB_ENTITY=your-wandb-username
WANDB_MODE=online

# TensorBoard
TENSORBOARD_LOG_DIR=${LOGS_DIR}/tensorboard

# Performance monitoring
ENABLE_PROFILING=false
PROFILE_OUTPUT_DIR=${LOGS_DIR}/profiles

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# AlphaFold database
ALPHAFOLD_DB_URL=https://alphafold.ebi.ac.uk/files
ALPHAFOLD_CACHE_DIR=${DATA_ROOT}/alphafold_cache

# UniProt API
UNIPROT_API_URL=https://rest.uniprot.org
UNIPROT_TIMEOUT=30

# PDB REST API
PDB_API_URL=https://data.rcsb.org/rest/v1
PDB_SEARCH_API_URL=https://search.rcsb.org/rcsbsearch/v2/query

# ChEMBL database (for ligand data)
CHEMBL_API_URL=https://www.ebi.ac.uk/chembl/api/data
CHEMBL_TIMEOUT=30

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Input validation
MAX_FILE_SIZE_MB=100
ALLOWED_FILE_EXTENSIONS=.pdb,.cif,.xyz,.mol2
VALIDATE_PDB_FORMAT=true

# Computational limits
MAX_PROTEIN_LENGTH=2000
MAX_CONSTRAINTS=50
MAX_DESIGN_TIME_MINUTES=60

# Rate limiting for expensive operations
MAX_DESIGNS_PER_HOUR=10
MAX_VALIDATIONS_PER_HOUR=100

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Testing
TEST_DATA_DIR=${DATA_ROOT}/test_data
ENABLE_INTEGRATION_TESTS=true
SKIP_SLOW_TESTS=false

# Code quality
ENABLE_TYPE_CHECKING=true
ENABLE_LINT_CHECKS=true
CODE_COVERAGE_THRESHOLD=80

# Jupyter notebook settings
JUPYTER_PORT=8888
JUPYTER_TOKEN=
JUPYTER_PASSWORD=

# =============================================================================
# CONTAINER SETTINGS
# =============================================================================

# Docker configuration
DOCKER_REGISTRY=ghcr.io
DOCKER_NAMESPACE=your-username
DOCKER_TAG=latest

# Container resource limits
CONTAINER_MEMORY_LIMIT=16g
CONTAINER_CPU_LIMIT=8
CONTAINER_SHM_SIZE=2g

# Volume mounts
HOST_DATA_DIR=/host/path/to/data
HOST_MODELS_DIR=/host/path/to/models
HOST_RESULTS_DIR=/host/path/to/results

# =============================================================================
# EXAMPLE VALUES (UNCOMMENT AND MODIFY AS NEEDED)
# =============================================================================

# Example production configuration:
# APP_ENV=production
# DEBUG=false
# LOG_LEVEL=WARNING
# CUDA_VISIBLE_DEVICES=0,1,2,3
# MAX_MEMORY_GB=128
# API_WORKERS=16
# ENABLE_AUTH=true
# MLFLOW_TRACKING_URI=http://mlflow-server:5000

# Example development configuration:
# APP_ENV=development
# DEBUG=true
# LOG_LEVEL=DEBUG
# CUDA_VISIBLE_DEVICES=0
# MAX_MEMORY_GB=16
# API_WORKERS=1
# ENABLE_AUTH=false
# MLFLOW_TRACKING_URI=file:///tmp/mlruns